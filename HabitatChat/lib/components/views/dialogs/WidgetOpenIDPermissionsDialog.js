"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _languageHandler = require("../../../languageHandler");

var _SettingsStore = _interopRequireWildcard(require("../../../settings/SettingsStore"));

var sdk = _interopRequireWildcard(require("../../../index"));

var _LabelledToggleSwitch = _interopRequireDefault(require("../elements/LabelledToggleSwitch"));

var _WidgetUtils = _interopRequireDefault(require("../../../utils/WidgetUtils"));

/*
Copyright 2019 Travis Ralston

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class WidgetOpenIDPermissionsDialog extends _react.default.Component {
  constructor() {
    super();
    (0, _defineProperty2.default)(this, "_onAllow", () => {
      this._onPermissionSelection(true);
    });
    (0, _defineProperty2.default)(this, "_onDeny", () => {
      this._onPermissionSelection(false);
    });
    (0, _defineProperty2.default)(this, "_onRememberSelectionChange", newVal => {
      this.setState({
        rememberSelection: newVal
      });
    });
    this.state = {
      rememberSelection: false
    };
  }

  _onPermissionSelection(allowed) {
    if (this.state.rememberSelection) {
      console.log("Remembering ".concat(this.props.widgetId, " as allowed=").concat(allowed, " for OpenID"));

      const currentValues = _SettingsStore.default.getValue("widgetOpenIDPermissions");

      if (!currentValues.allow) currentValues.allow = [];
      if (!currentValues.deny) currentValues.deny = [];

      const securityKey = _WidgetUtils.default.getWidgetSecurityKey(this.props.widgetId, this.props.widgetUrl, this.props.isUserWidget);

      (allowed ? currentValues.allow : currentValues.deny).push(securityKey);

      _SettingsStore.default.setValue("widgetOpenIDPermissions", null, _SettingsStore.SettingLevel.DEVICE, currentValues);
    }

    this.props.onFinished(allowed);
  }

  render() {
    const BaseDialog = sdk.getComponent('views.dialogs.BaseDialog');
    const DialogButtons = sdk.getComponent('views.elements.DialogButtons');
    return /*#__PURE__*/_react.default.createElement(BaseDialog, {
      className: "mx_WidgetOpenIDPermissionsDialog",
      hasCancel: true,
      onFinished: this.props.onFinished,
      title: (0, _languageHandler._t)("A widget would like to verify your identity")
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_WidgetOpenIDPermissionsDialog_content"
    }, /*#__PURE__*/_react.default.createElement("p", null, (0, _languageHandler._t)("A widget located at %(widgetUrl)s would like to verify your identity. " + "By allowing this, the widget will be able to verify your user ID, but not " + "perform actions as you.", {
      widgetUrl: this.props.widgetUrl
    })), /*#__PURE__*/_react.default.createElement(_LabelledToggleSwitch.default, {
      value: this.state.rememberSelection,
      toggleInFront: true,
      onChange: this._onRememberSelectionChange,
      label: (0, _languageHandler._t)("Remember my selection for this widget")
    })), /*#__PURE__*/_react.default.createElement(DialogButtons, {
      primaryButton: (0, _languageHandler._t)("Allow"),
      onPrimaryButtonClick: this._onAllow,
      cancelButton: (0, _languageHandler._t)("Deny"),
      onCancel: this._onDeny
    }));
  }

}

exports.default = WidgetOpenIDPermissionsDialog;
(0, _defineProperty2.default)(WidgetOpenIDPermissionsDialog, "propTypes", {
  onFinished: _propTypes.default.func.isRequired,
  widgetUrl: _propTypes.default.string.isRequired,
  widgetId: _propTypes.default.string.isRequired,
  isUserWidget: _propTypes.default.bool.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZXdzL2RpYWxvZ3MvV2lkZ2V0T3BlbklEUGVybWlzc2lvbnNEaWFsb2cuanMiXSwibmFtZXMiOlsiV2lkZ2V0T3BlbklEUGVybWlzc2lvbnNEaWFsb2ciLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwiX29uUGVybWlzc2lvblNlbGVjdGlvbiIsIm5ld1ZhbCIsInNldFN0YXRlIiwicmVtZW1iZXJTZWxlY3Rpb24iLCJzdGF0ZSIsImFsbG93ZWQiLCJjb25zb2xlIiwibG9nIiwicHJvcHMiLCJ3aWRnZXRJZCIsImN1cnJlbnRWYWx1ZXMiLCJTZXR0aW5nc1N0b3JlIiwiZ2V0VmFsdWUiLCJhbGxvdyIsImRlbnkiLCJzZWN1cml0eUtleSIsIldpZGdldFV0aWxzIiwiZ2V0V2lkZ2V0U2VjdXJpdHlLZXkiLCJ3aWRnZXRVcmwiLCJpc1VzZXJXaWRnZXQiLCJwdXNoIiwic2V0VmFsdWUiLCJTZXR0aW5nTGV2ZWwiLCJERVZJQ0UiLCJvbkZpbmlzaGVkIiwicmVuZGVyIiwiQmFzZURpYWxvZyIsInNkayIsImdldENvbXBvbmVudCIsIkRpYWxvZ0J1dHRvbnMiLCJfb25SZW1lbWJlclNlbGVjdGlvbkNoYW5nZSIsIl9vbkFsbG93IiwiX29uRGVueSIsIlByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwic3RyaW5nIiwiYm9vbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQWdCQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUF0QkE7Ozs7Ozs7Ozs7Ozs7OztBQXdCZSxNQUFNQSw2QkFBTixTQUE0Q0MsZUFBTUMsU0FBbEQsQ0FBNEQ7QUFRdkVDLEVBQUFBLFdBQVcsR0FBRztBQUNWO0FBRFUsb0RBUUgsTUFBTTtBQUNiLFdBQUtDLHNCQUFMLENBQTRCLElBQTVCO0FBQ0gsS0FWYTtBQUFBLG1EQVlKLE1BQU07QUFDWixXQUFLQSxzQkFBTCxDQUE0QixLQUE1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RCxVQUhaO0FBSWZoQixFQUFBQSxZQUFZLEVBQUVjLG1CQUFVSSxJQUFWLENBQWVGO0FBSmQsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAxOSBUcmF2aXMgUmFsc3RvblxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtfdH0gZnJvbSBcIi4uLy4uLy4uL2xhbmd1YWdlSGFuZGxlclwiO1xuaW1wb3J0IFNldHRpbmdzU3RvcmUsIHtTZXR0aW5nTGV2ZWx9IGZyb20gXCIuLi8uLi8uLi9zZXR0aW5ncy9TZXR0aW5nc1N0b3JlXCI7XG5pbXBvcnQgKiBhcyBzZGsgZnJvbSBcIi4uLy4uLy4uL2luZGV4XCI7XG5pbXBvcnQgTGFiZWxsZWRUb2dnbGVTd2l0Y2ggZnJvbSBcIi4uL2VsZW1lbnRzL0xhYmVsbGVkVG9nZ2xlU3dpdGNoXCI7XG5pbXBvcnQgV2lkZ2V0VXRpbHMgZnJvbSBcIi4uLy4uLy4uL3V0aWxzL1dpZGdldFV0aWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpZGdldE9wZW5JRFBlcm1pc3Npb25zRGlhbG9nIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICBvbkZpbmlzaGVkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICB3aWRnZXRVcmw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgd2lkZ2V0SWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgaXNVc2VyV2lkZ2V0OiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcmVtZW1iZXJTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9vbkFsbG93ID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9vblBlcm1pc3Npb25TZWxlY3Rpb24odHJ1ZSk7XG4gICAgfTtcblxuICAgIF9vbkRlbnkgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuX29uUGVybWlzc2lvblNlbGVjdGlvbihmYWxzZSk7XG4gICAgfTtcblxuICAgIF9vblBlcm1pc3Npb25TZWxlY3Rpb24oYWxsb3dlZCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5yZW1lbWJlclNlbGVjdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFJlbWVtYmVyaW5nICR7dGhpcy5wcm9wcy53aWRnZXRJZH0gYXMgYWxsb3dlZD0ke2FsbG93ZWR9IGZvciBPcGVuSURgKTtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlcyA9IFNldHRpbmdzU3RvcmUuZ2V0VmFsdWUoXCJ3aWRnZXRPcGVuSURQZXJtaXNzaW9uc1wiKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFZhbHVlcy5hbGxvdykgY3VycmVudFZhbHVlcy5hbGxvdyA9IFtdO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50VmFsdWVzLmRlbnkpIGN1cnJlbnRWYWx1ZXMuZGVueSA9IFtdO1xuXG4gICAgICAgICAgICBjb25zdCBzZWN1cml0eUtleSA9IFdpZGdldFV0aWxzLmdldFdpZGdldFNlY3VyaXR5S2V5KFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMud2lkZ2V0SWQsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy53aWRnZXRVcmwsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pc1VzZXJXaWRnZXQpO1xuICAgICAgICAgICAgKGFsbG93ZWQgPyBjdXJyZW50VmFsdWVzLmFsbG93IDogY3VycmVudFZhbHVlcy5kZW55KS5wdXNoKHNlY3VyaXR5S2V5KTtcbiAgICAgICAgICAgIFNldHRpbmdzU3RvcmUuc2V0VmFsdWUoXCJ3aWRnZXRPcGVuSURQZXJtaXNzaW9uc1wiLCBudWxsLCBTZXR0aW5nTGV2ZWwuREVWSUNFLCBjdXJyZW50VmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvcHMub25GaW5pc2hlZChhbGxvd2VkKTtcbiAgICB9XG5cbiAgICBfb25SZW1lbWJlclNlbGVjdGlvbkNoYW5nZSA9IChuZXdWYWwpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVtZW1iZXJTZWxlY3Rpb246IG5ld1ZhbH0pO1xuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IEJhc2VEaWFsb2cgPSBzZGsuZ2V0Q29tcG9uZW50KCd2aWV3cy5kaWFsb2dzLkJhc2VEaWFsb2cnKTtcbiAgICAgICAgY29uc3QgRGlhbG9nQnV0dG9ucyA9IHNkay5nZXRDb21wb25lbnQoJ3ZpZXdzLmVsZW1lbnRzLkRpYWxvZ0J1dHRvbnMnKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEJhc2VEaWFsb2cgY2xhc3NOYW1lPSdteF9XaWRnZXRPcGVuSURQZXJtaXNzaW9uc0RpYWxvZycgaGFzQ2FuY2VsPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25GaW5pc2hlZD17dGhpcy5wcm9wcy5vbkZpbmlzaGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e190KFwiQSB3aWRnZXQgd291bGQgbGlrZSB0byB2ZXJpZnkgeW91ciBpZGVudGl0eVwiKX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J214X1dpZGdldE9wZW5JRFBlcm1pc3Npb25zRGlhbG9nX2NvbnRlbnQnPlxuICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtfdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkEgd2lkZ2V0IGxvY2F0ZWQgYXQgJSh3aWRnZXRVcmwpcyB3b3VsZCBsaWtlIHRvIHZlcmlmeSB5b3VyIGlkZW50aXR5LiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJCeSBhbGxvd2luZyB0aGlzLCB0aGUgd2lkZ2V0IHdpbGwgYmUgYWJsZSB0byB2ZXJpZnkgeW91ciB1c2VyIElELCBidXQgbm90IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBlcmZvcm0gYWN0aW9ucyBhcyB5b3UuXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0VXJsOiB0aGlzLnByb3BzLndpZGdldFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8TGFiZWxsZWRUb2dnbGVTd2l0Y2ggdmFsdWU9e3RoaXMuc3RhdGUucmVtZW1iZXJTZWxlY3Rpb259IHRvZ2dsZUluRnJvbnQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25SZW1lbWJlclNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtfdChcIlJlbWVtYmVyIG15IHNlbGVjdGlvbiBmb3IgdGhpcyB3aWRnZXRcIil9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPERpYWxvZ0J1dHRvbnNcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUJ1dHRvbj17X3QoXCJBbGxvd1wiKX1cbiAgICAgICAgICAgICAgICAgICAgb25QcmltYXJ5QnV0dG9uQ2xpY2s9e3RoaXMuX29uQWxsb3d9XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbj17X3QoXCJEZW55XCIpfVxuICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5fb25EZW55fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Jhc2VEaWFsb2c+XG4gICAgICAgICk7XG4gICAgfVxufVxuIl19